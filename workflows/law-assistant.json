
{ "name": "LAW ASSISTANT", "nodes": [ { "parameters": { "pollTimes": { "item": [ { "mode": "everyMinute" }, { "mode": "everyMinute" } ] }, "simple": false, "filters": { }, "options": { } }, "type": "n8n-nodes-base.gmailTrigger", "typeVersion": 1.3, "position": [-1168, 640], "id": "8e1540be-8a7e-4142-bfb2-a02d2a8c2b80", "name": "Gmail Trigger", "credentials": { "gmailOAuth2": { "id": "ERkpfUdgHF2BPDcZ", "name": "Gmail account" } } }, { "parameters": { "pollTimes": { "item": [ { "mode": "everyMinute" } ] }, "triggerOn": "specificFolder", "folderToWatch": { "rl": true, "value": "1iw3OAwEYNKuGxAVqd4EKFDynx3WnRBO2", "mode": "list", "cachedResultName": "constitution", "cachedResultUrl": "https://drive.google.com/drive/folders/1iw3OAwEYNKuGxAVqd4EKFDynx3WnRBO2" }, "event": "fileUpdated", "options": { "fileType": "all" } }, "type": "n8n-nodes-base.googleDriveTrigger", "typeVersion": 1, "position": [-2064, 656], "id": "efb4a3f7-830c-4103-a5cb-bb6f52e7f7ee", "name": "Google Drive Trigger", "credentials": { "googleDriveOAuth2Api": { "id": "rl4OvDXTufvUTuZN", "name": "Google Drive account" } } }, { "parameters": { "mode": "insert", "qdrantCollection": { "rl": true, "value": "=constitution.chatbot", "mode": "id" }, "options": { } }, "type": "@n8n/n8n-nodes-langchain.vectorStoreQdrant", "typeVersion": 1.3, "position": [-1664, 640], "id": "03d471be-722f-43a8-9fdd-cf11553bb014", "name": "Qdrant Vector Store", "credentials": { "qdrantApi": { "id": "sFfERYppMeBnFNeA", "name": "Local QdrantApi database" } } }, { "parameters": { "model": "mxbai-embed-large:latest" }, "type": "@n8n/n8n-nodes-langchain.embeddingsOllama", "typeVersion": 1, "position": [-288, 1024], "id": "645a2798-dae7-4353-b756-60baccbd2c56", "name": "Embeddings Ollama", "credentials": { "ollamaApi": { "id": "xHuYe0MDGOs9IpBW", "name": "Local Ollama service" } } }, { "parameters": { "textSplittingMode": "custom", "options": { } }, "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader", "typeVersion": 1.1, "position": [-1696, 864], "id": "7062e9d9-9a2b-49ce-89ef-8b81c40f6d41", "name": "Default Data Loader" }, { "parameters": { "options": { } }, "type": "@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter", "typeVersion": 1, "position": [-1760, 976], "id": "a4ac7e46-046d-4cc1-b08d-395ae8c64f59", "name": "Recursive Character Text Splitter" }, { "parameters": { "promptType": "define", "text": "={{ $json.text }}", "options": { "systemMessage": "=You are a highly knowledgeable legal assistant specializing in constitutional law under the Constitution of Kenya (2010). You have direct access to the text of the Kenyan Constitution from the vector database and should reference its Articles, Chapters, and Schedules when responding. When the user provides a question or describes a real-life incident, analyze it through the lens of constitutional provisions, relevant judicial interpretations by Kenyan courts, and applicable legal doctrines. Provide clear, accurate, and well-structured explanations. Where appropriate, present multiple perspectives (e.g., individual rights vs. state powers) and explain the likely constitutional implications. Avoid personal opinionsâ€”ground all reasoning in the Constitution of Kenya and authoritative precedence.\nreply to an email but dont add a subject just a body.\nPerfect ðŸš€ â€” let me write it as a ready-to-use n8n system message that you can drop inside your AI Agent node.\n\nHereâ€™s the format you can use:\nremove the asterisks in the output.\nAdd a human touch in the output.\nDivide output into sections(paragraphs)for easy reading.\nYou are an AI legal assistant. \nYour job is to read incoming emails and respond professionally.\nuse bullets instead of asterisk to show points.\nRules:\n1. Always greet the sender using their name: \n Dear \n (If the name is not available, just say "Dear Sir/Madam".)\n\n2. Keep the tone polite, concise, and professional. \n3.


At the end of every response, always include this signature:\n\nBest regards, \nEzra Wambugu \nLL.B (Hons), Legal Tech Specialist\n\n\n---\n\nðŸ”¹ Example Output in Action\n\nIncoming email from: Jane Mwangi \u003Cjane@example.com\u003E\n\nAI Response:\n\nDear Jane,\n\nThank you for your email. I will review the matter and provide further guidance shortly.\n\nBest regards, \nEzra Wambugu \nLL.B (Hons), Legal Tech Specialist\n\nThe output should not have asterisk instead use bullets to show points\nRespond only in plain text. Do not use Markdown, asterisks, or any other formatting characters. \nDo not respond to emails that are personal emails or business related emails or ads or entertainment just stick to the script of anything law related." } }, "type": "@n8n/n8n-nodes-langchain.agent", "typeVersion": 2.2, "position": [-448, 640], "id": "aaecc89d-c99d-4d28-929d-e35d63b47dd9", "name": "AI Agent" }, { "parameters": { "options": { } }, "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini", "typeVersion": 1, "position": [-496, 816], "id": "8634b6c2-fc44-4af5-82e2-923e6a7e90ce", "name": "Google Gemini Chat Model", "credentials": { "googlePalmApi": { "id": "EtxPcF58f1B6Qy8w", "name": "Google Gemini(PaLM) Api account" } } }, { "parameters": { "mode": "retrieve-as-tool", "toolDescription": "provide information for the AI Agent", "qdrantCollection": { "__rl": true, "value": "constitution.chatbot", "mode": "list", "cachedResultName": "constitution.chatbot" }, "options": { } }, "type": "@n8n/n8n-nodes-langchain.vectorStoreQdrant", "typeVersion": 1.3, "position": [-368, 816], "id": "8105a779-65bb-48b8-91c7-c52b2bd1172f", "name": "Qdrant Vector Store1", "credentials": { "qdrantApi": { "id": "sFfERYppMeBnFNeA", "name": "Local QdrantApi database" } } }, { "parameters": { "inputText": "={{ $json.text }}", "categories": { "categories": [ { "category": "Law", "description": "=Emails that have legal terms or have a description of how the law or any law terms were violated.\n" }, { "category": "other", "description": "=\nAny email that is not law related from newsletters to my personal subscriptions to business related emails.\nEmails that are promotional also fall under this category no matter the content thta they actually posses." } ] }, "options": { } }, "type": "@n8n/n8n-nodes-langchain.textClassifier", "typeVersion": 1.1, "position": [-1008, 640], "id": "933c42a9-d12c-4be2-8314-44552be5a7ea", "name": "Text Classifier" }, { "parameters": { "options": { } }, "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini", "typeVersion": 1, "position": [-1152, 896], "id": "c0fc2c95-9b50-4f97-97bf-76524549e988", "name": "Google Gemini Chat Model1", "credentials": { "googlePalmApi": { "id": "EtxPcF58f1B6Qy8w", "name": "Google Gemini(PaLM) Api account" } } }, { "parameters": { }, "type": "n8n-nodes-base.noOp", "typeVersion": 1, "position": [-832, 912], "id": "2d8ea8ff-7d55-41b7-89d3-e368fdb76ecb", "name": "No Operation, do nothing" }, { "parameters": { "operation": "reply", "messageId": "={{ $('Gmail Trigger').item.json.id }}", "emailType": "text", "message": "={{ $('AI Agent').item.json.output }}", "options": { } }, "type": "n8n-nodes-base.gmail", "typeVersion": 2.1, "position": [32, 784], "id": "3cc2ebed-9317-403b-afef-0f4dbda80b4f", "name": "Reply to a message", "webhookId": "0c895615-2b7c-434f-ba21-47414005c758", "credentials": { "gmailOAuth2": { "id": "ERkpfUdgHF2BPDcZ", "name": "Gmail account" } } }, { "parameters": { "operation": "addLabels", "messageId": "={{ $('Gmail Trigger').item.json.id }}", "labelIds": [ "IMPORTANT" ] }, "type": "n8n-nodes-base.gmail", "typeVersion": 2.1, "position": [-112, 784], "id": "feb213c6-2c1b-43c8-ac74-8e1effe00606", "name": "Add label to message", "webhookId": "4c00003c-56fd-4ada-9f34-c52e58067315", "credentials": { "gmailOAuth2": { "id": "ERkpfUdgHF2BPDcZ", "name": "Gmail account" } } }, { "parameters": { "model": "mxbai-embed-large:latest" }, "type": "@n8n/n8n-nodes-langchain.embeddingsOllama", "typeVersion": 1, "position": [-1984, 848], "id": "c1a5d861-8a14-4ce1-9bad-79f070d40ef6", "name": "Embeddings


Ollama1", "credentials": { "ollamaApi": { "id": "xHuYe0MDGOs9IpBW", "name": "Local Ollama service" } } }, { "parameters": { "content": "Vector database\ndats is stored in chunks which are divided by the embedding model", "height": 624, "width": 768 }, "type": "n8n-nodes-base.stickyNote", "position": [-2144, 560], "typeVersion": 1, "id": "f3fa4ac2-1a3f-4cb2-8326-763d66b24eb6", "name": "Sticky Note" }, { "parameters": { "content": "Gmail trigger and text classifier.\nThe AI model(gemini 2.5) classifies emails as either law related emails or others", "height": 624, "width": 720, "color": 3 }, "type": "n8n-nodes-base.stickyNote", "position": [-1296, 576], "typeVersion": 1, "id": "215324c6-52a5-4333-9815-1fe0a0bbd4ab", "name": "Sticky Note1" }, { "parameters": { "content": "AI Agent running with google gemini, replies emails with reference to the constititution of kenya(2010){stored at the vector database and replies to all your queries about the law.", "height": 592, "width": 768, "color": 5 }, "type": "n8n-nodes-base.stickyNote", "position": [-592, 576], "typeVersion": 1, "id": "1ddd9e8e-b97c-4b4f-85e8-667260b75fd8", "name": "Sticky Note2" }, { "parameters": { "content": "LAW ASSISTANT ", "height": 80, "width": 150 }, "type": "n8n-nodes-base.stickyNote", "position": [-1136, 480], "typeVersion": 1, "id": "fbc6d9dd-476d-473a-a641-6e0e9eb5049a", "name": "Sticky Note3" }, { "parameters": { "operation": "download", "fileId": { "__rl": true, "value": "={{ $json.id }}", "mode": "id" }, "options": { } }, "type": "n8n-nodes-base.googleDrive", "typeVersion": 3, "position": [-1824, 656], "id": "37aaa2e3-00a8-4679-b730-25e2a99ab322", "name": "download constitution", "credentials": { "googleDriveOAuth2Api": { "id": "rl4OvDXTufvUTuZN", "name": "Google Drive account" } } } ], "pinData": { }, "connections": { "Gmail Trigger": { "main": [ [ { "node": "Text Classifier", "type": "main", "index": 0 } ] ] }, "Google Drive Trigger": { "main": [ [ { "node": "download constitution", "type": "main", "index": 0 } ] ] }, "Embeddings Ollama": { "ai_embedding": [ [ { "node": "Qdrant Vector Store1", "type": "ai_embedding", "index": 0 } ] ] }, "Default Data Loader": { "ai_document": [ [ { "node": "Qdrant Vector Store", "type": "ai_document", "index": 0 } ] ] }, "Recursive Character Text Splitter": { "ai_textSplitter": [ [ { "node": "Default Data Loader", "type": "ai_textSplitter", "index": 0 } ] ] }, "Google Gemini Chat Model": { "ai_languageModel": [ [ { "node": "AI Agent", "type": "ai_languageModel", "index": 0 } ] ] }, "Qdrant Vector Store1": { "ai_tool": [ [ { "node": "AI Agent", "type": "ai_tool", "index": 0 } ] ] }, "Google Gemini Chat Model1": { "ai_languageModel": [ [ { "node": "Text Classifier", "type": "ai_languageModel", "index": 0 } ] ] }, "Text Classifier": { "main": [ [ { "node": "AI Agent", "type": "main", "index": 0 } ], [ { "node": "No Operation, do nothing", "type": "main", "index": 0 } ] ] }, "AI Agent": { "main": [ [ { "node": "Add label to message", "type": "main", "index": 0 } ] ] }, "Add label to message": { "main": [ [ { "node": "Reply to a message", "type": "main", "index": 0 } ] ] }, "Embeddings Ollama1": { "ai_embedding": [ [ { "node": "Qdrant Vector Store", "type": "ai_embedding", "index": 0 } ] ] }, "download constitution": { "main": [ [ { "node": "Qdrant Vector Store", "type": "main", "index": 0 } ] ] } }, "active": false, "settings": { "executionOrder": "v1", "timezone": "Africa/Nairobi", "callerPolicy": "workflowsFromSameOwner", "timeSavedPerExecution": 0 }, "versionId": "5f42c689-201c-4249-9210-7b4d7e65957d", "meta": { "templateCredsSetupCompleted": true, "instanceId": "558d88703fb65b2d0e44613bc35916258b0f0bf983c5d4730c00c424b77ca36a" }, "id": "V3dp1KIIZIyxHBJd", "tags": [] }